<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BanSimulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- === HTML_HEAD 结束 === -->
<!-- === HTML_LOGIN 开始 === -->
    <!-- 登录界面 -->
    <div id="login-screen" class="screen active">
        <div class="login-container">
            <div class="logo">
                <h1>BanSimulator</h1>
                <div class="subtitle">永封者俱乐部——照亮每一处黑暗</div>
            </div>
            
            <div class="input-section">
                <div class="input-group">
                    <label for="nickname-input">📝 请输入您的昵称</label>
                    <input type="text" id="nickname-input" placeholder="一个设备只能注册一个账号，请勿输入真实信息" maxlength="20" autocomplete="off">
                    <div id="error-message" class="error-message"></div>
                </div>
                
                <button id="start-button" class="primary-btn">
                    <span class="btn-text">开始体验</span>
                    <div class="loading-spinner" style="display: none;"></div>
                </button>
                <button id="apply-unban-btn" class="secondary-btn" style="display:none;margin-left:8px;">申请解封</button>
            </div>
            
            
        </div>
    </div>
    <!-- === HTML_LOGIN 结束 === -->
<!-- === HTML_MENU 开始 === -->
    <!-- 主菜单界面 -->
    <div id="menu-screen" class="screen">
        <div class="menu-container">
            <div class="user-welcome">
                <h2>欢迎, <span id="menu-username">用户</span></h2>
                <div class="user-badge" id="developer-badge" style="display: none;">🔧 开发者模式</div>
            </div>
            
            <div class="menu-options">
                <div class="menu-card" data-target="game-screen">
                    <div class="menu-icon">🎮</div>
                    <h3>贪吃蛇</h3>
                    <p>温馨提示：互联网不是法外之地，不当言行将付出代价</p>
                </div>
                
                <!-- 邀请抽取解封机会已移至独立页面（unban_lottery.html） -->
                
                <!-- Removed the standalone ban-simulator card and moved settings to header -->
            </div>
            
            <!-- settings button 已移至游戏界面头部 -->
            <div class="menu-footer">
                <!-- 切换账号入口已移除，游戏仅允许单账号登录 -->
                <div class="share-note" style="margin-top:12px;font-size:0.85em;opacity:0.9;color:#fff;">请分享网址给好友 https://active-boy.github.io/bansimulator/</div>
            </div>
        </div>
    </div>
    <!-- === HTML_MENU 结束 === -->
<!-- === HTML_GAME 开始 === -->
    <!-- 贪吃蛇游戏界面 -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <div class="game-header">
                <h2>🎮 贪吃蛇小游戏</h2>
                <div class="player-info">玩家: <span id="player-name">游客</span></div>
                <div style="position:absolute;right:8px;top:8px;">
                    <button id="menu-settings-btn" title="系统设置" class="secondary-btn">⚙️</button>
                </div>
                <div class="share-note" style="margin-top:8px;font-size:0.85em;opacity:0.9;"> https://active-boy.github.io/bansimulator/</div>
            </div>
            
            <div class="game-stats">
                <div class="stat-item">
                    <span class="stat-label">分数</span>
                    <span id="score" class="stat-value">0</span>
                </div>
                <!-- 时间计数已移除：计时机制隐藏在程序内部 -->
                <div class="stat-item">
                    <span class="stat-label">长度</span>
                    <span id="snake-length" class="stat-value">3</span>
                </div>
                <!-- start button placed under stats; when game runs this will display elapsed time -->
                <div style="margin-top:8px;">
                    <button id="start-game-btn" class="primary-btn">▶️ 开始游戏</button>
                </div>
            </div>
            
            <div class="game-area">
                <canvas id="snake-canvas" width="400" height="400"></canvas>
                
                <!-- 手机方向控制按钮 - 添加在游戏画布后面 -->
                <div class="mobile-controls" style="display: none; margin-top: 20px; text-align: center;">
                    <div style="margin-bottom: 10px;">
                        <button class="direction-btn" data-direction="up" style="width: 60px; height: 60px; font-size: 24px;">↑</button>
                    </div>
                    <div>
                        <button class="direction-btn" data-direction="left" style="width: 60px; height: 60px; font-size: 24px; margin-right: 20px;">←</button>
                        <button class="direction-btn" data-direction="right" style="width: 60px; height: 60px; font-size: 24px;">→</button>
                    </div>
                    <div style="margin-top: 10px;">
                        <button class="direction-btn" data-direction="down" style="width: 60px; height: 60px; font-size: 24px;">↓</button>
                    </div>
                </div>
            </div>
            
            <div class="game-controls">
                <div class="controls-info">
                    <p>🎮 使用方向键 ↑↓←→ 控制蛇的移动</p>
                    <!--<p>⏰ 游戏将在60秒后自动结束</p> 已移除可见提示，计时在内部控制 -->
                </div>
                
                <button id="pause-btn" class="control-btn">⏸️ 暂停</button>
                <button id="exit-btn" class="control-btn secondary-btn">← 返回菜单</button>
            </div>
        </div>
    </div>
    <!-- === HTML_GAME 结束 === -->
<!-- 邀请/抽奖界面已移至独立页面：unban_lottery.html（仅在被封账号申请解封时访问） -->
<!-- === HTML_OTHER 开始 === -->
    <!-- 投诉选择界面 -->
    <div id="complaint-screen" class="screen">
        <div class="complaint-container">
            <div class="result-header">
                <h2>🎯 游戏结束！</h2>
                <div class="final-score">最终得分: <span id="final-score">0</span> 分</div>
            </div>
            
            <div class="complaint-question">
                <p>是否投诉游戏《贪吃蛇大冒险》运行不稳定？</p>
                <div class="complaint-options">
                    <button id="complain-yes" class="complaint-btn primary-btn">
                        ✅ 是的，我要投诉
                    </button>
                    <button id="complain-no" class="complaint-btn secondary-btn">
                        🔄 不，再玩一次
                    </button>
                </div>
            </div>
            
            <div class="complaint-tip">
                <small>您的选择将影响后续体验...</small>
            </div>
        </div>
    </div>

    <!-- 设置界面 -->
    <div id="settings-screen" class="screen">
        <div class="settings-container">
            <h2>⚙️ 系统设置</h2>
            <div class="settings-options">
                <div class="setting-item">
                    <label>音效设置</label>
                    <input type="range" min="0" max="100" value="50" class="volume-slider">
                </div>
                <div class="setting-item">
                    <label>动画效果</label>
                    <input type="checkbox" checked class="toggle-switch">
                </div>
                <div class="setting-item">
                    <label>开发者工具</label>
                    <button id="dev-tools-btn" class="secondary-btn">打开控制台</button>
                </div>
            </div>
            <button id="back-to-menu-settings" class="secondary-btn">← 返回菜单</button>
        </div>
    </div>
    <!-- === HTML_OTHER 结束 === -->
    <!-- 被封账号着陆页（仅对已被封禁的账号显示） -->
    <div id="banned-screen" class="screen">
        <div class="banned-container">
            <div class="banned-header">
                <h2>⛔ 账号已被封禁</h2>
                <div class="user-welcome">账号: <strong id="banned-nickname">用户</strong></div>
            </div>

            <div class="banned-info">
                <p>封禁原因: <span id="banned-reason">未记录</span></p>
                <p>封禁时间: <span id="banned-at">-</span></p>
            </div>

            <div class="banned-actions">
                <button id="banned-contact" class="primary-btn">联系客服</button>
                <button id="banned-appeal" class="secondary-btn">提交申诉</button>
                <button id="banned-back-login" class="secondary-btn">← 返回登录</button>
                <button id="banned-unban-btn" class="primary-btn" style="display:none;margin-left:8px;">🔓 开发者解封</button>
            </div>

            <div class="banned-history">
                <h3>封禁历史</h3>
                <div id="banned-history-list">
                    <div class="no-records">暂无记录</div>
                </div>
            </div>
        </div>
    </div>
    <!-- 客服对话界面 -->
    <div id="customer-screen" class="screen">
        <div class="customer-container">
            <div class="customer-header">
                <button id="customer-back" class="secondary-btn">← 返回主界面</button>
                <h2>🧾 人工客服</h2>
            </div>

            <div id="customer-chat" class="customer-chat">
                <div class="chat-messages" id="chat-messages"></div>
            </div>

            <div class="customer-quick">
                <button class="quick-btn" data-topic="appeal">申诉解封</button>
                <button class="quick-btn" data-topic="query">违规查询</button>
                <button class="quick-btn" data-topic="complaint">投诉游戏</button>
            </div>

            <div class="customer-input">
                <input id="customer-input" type="text" placeholder="输入消息给客服（示例：为什么我被封号？）">
                <button id="customer-send" class="primary-btn">发送</button>
            </div>
        </div>
    </div>
<!-- === HTML_FOOT 开始 === -->
    <script src="script.js"></script>
</body>
</html>
    <!-- === HTML_FOOT 结束 === -->